# 程式碼審查指令

執行完整的程式碼審查，檢查邏輯、安全性、效能和最佳實踐。

## 審查步驟

1. **邏輯檢查**
   - [ ] 是否涵蓋所有邊界案例？
   - [ ] 是否有潛在的 null/undefined 錯誤？
   - [ ] 條件判斷是否完整？
   - [ ] 迴圈是否有正確的終止條件？

2. **安全性檢查**
   - [ ] 是否有硬編碼的敏感資訊（API keys, secrets）？
   - [ ] 使用者輸入是否有適當的驗證和清理？
   - [ ] API 路由是否有認證/授權檢查？
   - [ ] 是否有 SQL 注入或 XSS 風險？

3. **型別安全**
   - [ ] 是否避免使用 `any` 型別？
   - [ ] 所有函式參數和回傳值是否有明確型別？
   - [ ] 是否有未處理的型別錯誤？

4. **錯誤處理**
   - [ ] 所有異步操作是否有錯誤處理？
   - [ ] API 路由是否有適當的錯誤回應？
   - [ ] 錯誤訊息是否對使用者友善？

5. **效能考量**
   - [ ] 是否有不必要的重複查詢？
   - [ ] 是否有適當的快取策略？
   - [ ] 元件是否有不必要的重新渲染？
   - [ ] 是否有記憶體洩漏風險？

6. **程式碼品質**
   - [ ] 變數和函式命名是否具描述性？
   - [ ] 程式碼是否遵循專案規範？
   - [ ] 是否有重複的程式碼可以重構？
   - [ ] 複雜邏輯是否有適當的註解？

7. **測試覆蓋**
   - [ ] 新功能是否有對應的測試？
   - [ ] 邊界案例是否有測試覆蓋？

## 執行方式

在 Agent 聊天框輸入 `/review` 並標記要審查的檔案，例如：
```
/review @src/app/api/rooms/route.ts
```
